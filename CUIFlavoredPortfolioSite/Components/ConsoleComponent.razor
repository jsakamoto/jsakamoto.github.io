@inject IConsoleHost ConsoleHost
@inject IScreenMetrics ScreenMetrics
@inject IJSRuntime JSRuntime

<div class="console-component" @ref="_ConsoleComponentElement">
    @foreach (var line in ConsoleHost.Lines)
    {
        <div @key="line.Id" class="console-line">
            @foreach (var fragment in line.Fragments)
            {
                <span @key="fragment.Id" class="@CssClass("console-fragment", new { fragment.NoWrap })" style="color:@ForeColorOf(fragment); margin-left:@MarginLeftOf(fragment)px">
                    @if (fragment.Link == null)
                    {
                        @fragment.Text
                    }
                    else
                    {
                        <a href="@fragment.Link" target="_blank">@fragment.Text</a>
                    }
                </span>
            }
        </div>
    }
</div>